<Window x:Class="PrismDemo.Views.ControlTemplateDemoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ControlTemplate示例"
        Width="400"
        Height="300">
    <Window.Resources>
        <!-- 定义Button的ControlTemplate -->
        <ControlTemplate x:Key="CustomButtonTemplate" TargetType="Button">
            <!-- 重新定义Button的视觉结构：圆角背景+文字 -->
            <Grid>
                <!-- 背景：鼠标悬浮/按下时有不同样式 -->
                <Border x:Name="btnBorder"
                        CornerRadius="8"
                        Background="#2F80ED"
                        BorderThickness="0">
                    <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"
                                      TextElement.Foreground="White"
                                      TextElement.FontSize="14" />
                </Border>
            </Grid>
            <!-- 触发器：响应控件状态变化 -->
            <ControlTemplate.Triggers>
                <!-- 鼠标悬浮 -->
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="btnBorder" Property="Background" Value="#5599FF" />
                </Trigger>
                <!-- 按钮按下 -->
                <Trigger Property="IsPressed" Value="True">
                    <Setter TargetName="btnBorder" Property="Background" Value="#FFFACD" />
                </Trigger>
                <!-- 按钮禁用 -->
                <Trigger Property="IsEnabled" Value="False">
                    <Setter TargetName="btnBorder" Property="Background" Value="#CCCCCC" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <!-- 将模板应用到Style，可全局复用 -->
        <Style x:Key="CustomButtonStyle" TargetType="Button">
            <Setter Property="Template" Value="{StaticResource CustomButtonTemplate}" />
            <Setter Property="Width" Value="120" />
            <Setter Property="Height" Value="40" />
        </Style>
    </Window.Resources>

    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
        <!-- 使用自定义模板的Button -->
        <Button Style="{StaticResource CustomButtonStyle}" Content="自定义按钮" />
        <Button Style="{StaticResource CustomButtonStyle}" Content="禁用按钮" IsEnabled="False" />
    </StackPanel>
</Window>